# 代码回灌测试系统 - 示例文件说明

本目录包含了用于验证代码回灌测试系统功能的示例文件。

## 文件结构

### C代码示例

#### 1. 排序算法示例
- `sort_version_a.c` - 冒泡排序实现（版本A）
- `sort_version_b.c` - 快速排序实现（版本B）

**差异说明**：
- 算法不同：冒泡排序 O(n²) vs 快速排序 O(n log n)
- 输出格式略有不同
- 版本B包含更多统计信息（中位数、四分位数等）

#### 2. 数学计算示例
- `math_version_a.c` - 基础数学函数实现（版本A）
- `math_version_b.c` - 改进的数学函数实现（版本B）

**差异说明**：
- 阶乘计算：简单循环 vs 带缓存的递归
- 斐波那契：循环迭代 vs 动态规划
- 版本B新增：GCD、LCM计算，素数判断等

### 测试数据

#### 排序算法测试数据
- `small_array.input` - 小型数组（9个元素）
- `medium_array.input` - 中型数组（18个元素）
- `large_array.input` - 大型数组（22个元素）

#### 数学计算测试数据
- `math_small.input` - 小数字测试（5 8）
- `math_medium.input` - 中等数字测试（12 15）
- `math_prime.input` - 素数相关测试（7 13）

## 预期测试结果

### 排序算法对比
1. **排序结果** - 两个版本应该产生相同的排序数组
2. **统计信息** - 版本B提供更多信息，会产生一些差异
3. **执行时间** - 快速排序应该明显快于冒泡排序

### 数学计算对比
1. **阶乘计算** - 小数字结果相同，大数字可能有差异
2. **斐波那契数列** - 结果应该完全相同
3. **输出格式** - 版本B输出更详细，会有文本差异

## 使用方法

### 1. 编译测试
```bash
cd CodeRegressionTester/examples

# 编译排序算法
gcc -o sort_a sort_version_a.c -lm
gcc -o sort_b sort_version_b.c -lm

# 编译数学计算
gcc -o math_a math_version_a.c -lm
gcc -o math_b math_version_b.c -lm
```

### 2. 手动测试验证
```bash
# 测试排序算法
./sort_a < test_data/small_array.input
./sort_b < test_data/small_array.input

# 测试数学计算
./math_a < test_data/math_small.input
./math_b < test_data/math_small.input
```

### 3. 使用GUI测试系统
1. 启动主程序：`python main.py`
2. 选择版本A和版本B的源文件
3. 选择测试数据目录（examples/test_data）
4. 配置编译选项和对比参数
5. 开始测试并查看结果

## 验证要点

### 功能验证
- [ ] 系统能正确编译两个版本的C代码
- [ ] 并行执行两个版本
- [ ] 正确识别相同的排序结果
- [ ] 检测输出格式的差异
- [ ] 计算误差指标
- [ ] 生成详细的测试报告

### 性能验证
- [ ] 执行时间对比正确显示
- [ ] 大数据集测试性能差异
- [ ] 内存使用监控正常工作

### 报告验证
- [ ] HTML报告格式正确
- [ ] 图表显示测试统计
- [ ] 差异详情清晰可读
- [ ] PDF导出功能正常

## 预期差异模式

### 相似度较高（>0.8）
- 小型排序数组测试
- 数学计算的核心数值结果

### 中等相似度（0.5-0.8）
- 大型数组排序（执行时间差异）
- 数学计算的输出格式差异

### 低相似度（<0.5）
- 版本B新增功能的测试用例
- 错误处理的差异

## 故障排除

### 编译错误
- 检查GCC是否正确安装
- 确认数学库`-lm`参数包含
- 验证C文件路径正确

### 执行错误
- 确认输入文件格式正确
- 检查可执行文件权限
- 查看详细错误日志

### 结果对比异常
- 调整容差设置
- 检查是否忽略空白字符
- 验证输出编码格式

### 4. 模板函数对比

#### 模板代码示例
- **`test_template.c`** - 完整的测试模板框架
- **`template_version_a.c`** - 简单数学函数实现（版本A）
- **`template_version_b.c`** - 增强数学函数实现（版本B）

**差异说明**：
- 函数实现：简单 vs 增强（long类型、更多功能）
- 统计信息：基础 vs 详细（标准差、变异系数等）
- 输出格式：简洁 vs 丰富（属性检查、比例分析）

#### 模板测试数据
- `template_array.input` - 数组输入测试（5个数字）
- `template_double.input` - 双参数测试（7 15）
- `template_string.input` - 字符串输入测试

**使用方法**：
1. 复制 `test_template.c` 作为你的测试起点
2. 在指定区域添加你要测试的函数
3. 选择合适的测试类型（单参数、双参数、数组等）
4. 编译两个版本进行对比

这些示例文件涵盖了代码回灌测试系统的主要功能场景，包括：
- 排序算法性能对比
- 数学计算精度验证
- 函数实现差异检测
- 输出格式变化识别
- 新增功能测试

可以有效验证系统的完整性和准确性。